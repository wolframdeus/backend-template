# backend-template

Шаблон для написания backend-а на технологиях:

- Node JS
- TypeScript
- MongoDB
- Apollo

## Переменные среды
Для запуска проекта необходимо создать файл `.env` и поместить в него следующие
переменные:

| Наименование | Описание |
|---|---|
| `PORT` | Номер порта для запуска|
| `ROOT` | Корневой URL для доступа к серверу. Например - `/api`. Тогда можно получить доступ по адресу `http://domain.com/api` |
| `DB_HOST` | Хост сервера на котором расположена база данных |
| `DB_PORT` | Порт сервера на котором расположена база данных | 
| `DB_NAME` | Наименование БД |
| `ENVIRONMENT` | Среда запуска сервера (`development` или `production`) |
| `VK_APP_SECRET_KEY` | Секретный ключ приложения ВКонтакте. Нужен для авторизации запросов пользователей |
| `STATIC_BASE_URL` | Базовый URL для обслуживания статики |

## Скрипты

| Команда | Описание |
| --- | --- |
| `yarn dev` | Запускает проект в dev-режиме отслеживая изменения в файлах и автоматически перезапуская проект |
| `yarn build` | Собирает проект |
| `yarn start` | Запускает собранную версию проекта |
| `yarn tunnel` | Запускает Ngrok туннель на порту указанном в скрипте |

## Деплой
Для запуска проекта необходимо:
1. Установить зависимости - `yarn install`
2. Создать `.env` в корне проекта и указать все необходимые переменные (см. пункт выше)
3. Сбилдить проект - `yarn build` или `tsc`
4. Запустить - `yarn start` или `dotenv -e .env node build/index.js`
